//! moment-timezone.js
//! version : 0.5.14
//! Copyright (c) JS Foundation and other contributors
//! license : MIT
//! github.com/moment/moment-timezone
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["moment"],b):"object"==typeof module&&module.exports?module.exports=b(require("moment")):b(a.moment)}(this,function(a){"use strict";function b(a){return a>96?a-87:a>64?a-29:a-48}function c(a){var c,d=0,e=a.split("."),f=e[0],g=e[1]||"",h=1,i=0,j=1;for(45===a.charCodeAt(0)&&(d=1,j=-1),d;d<f.length;d++)c=b(f.charCodeAt(d)),i=60*i+c;for(d=0;d<g.length;d++)h/=60,c=b(g.charCodeAt(d)),i+=c*h;return i*j}function d(a){for(var b=0;b<a.length;b++)a[b]=c(a[b])}function e(a,b){for(var c=0;c<b;c++)a[c]=Math.round((a[c-1]||0)+6e4*a[c]);a[b-1]=1/0}function f(a,b){var c,d=[];for(c=0;c<b.length;c++)d[c]=a[b[c]];return d}function g(a){var b=a.split("|"),c=b[2].split(" "),g=b[3].split(""),h=b[4].split(" ");return d(c),d(g),d(h),e(h,g.length),{name:b[0],abbrs:f(b[1].split(" "),g),offsets:f(c,g),untils:h,population:0|b[5]}}function h(a){a&&this._set(g(a))}function i(a){var b=a.toTimeString(),c=b.match(/\([a-z ]+\)/i);c&&c[0]?(c=c[0].match(/[A-Z]/g),c=c?c.join(""):void 0):(c=b.match(/[A-Z]{3,5}/g),c=c?c[0]:void 0),"GMT"===c&&(c=void 0),this.at=+a,this.abbr=c,this.offset=a.getTimezoneOffset()}function j(a){this.zone=a,this.offsetScore=0,this.abbrScore=0}function k(a,b){for(var c,d;d=6e4*((b.at-a.at)/12e4|0);)c=new i(new Date(a.at+d)),c.offset===a.offset?a=c:b=c;return a}function l(){var a,b,c,d=(new Date).getFullYear()-2,e=new i(new Date(d,0,1)),f=[e];for(c=1;c<48;c++)b=new i(new Date(d,c,1)),b.offset!==e.offset&&(a=k(e,b),f.push(a),f.push(new i(new Date(a.at+6e4)))),e=b;for(c=0;c<4;c++)f.push(new i(new Date(d+c,0,1))),f.push(new i(new Date(d+c,6,1)));return f}function m(a,b){return a.offsetScore!==b.offsetScore?a.offsetScore-b.offsetScore:a.abbrScore!==b.abbrScore?a.abbrScore-b.abbrScore:b.zone.population-a.zone.population}function n(a,b){var c,e;for(d(b),c=0;c<b.length;c++)e=b[c],J[e]=J[e]||{},J[e][a]=!0}function o(a){var b,c,d,e=a.length,f={},g=[];for(b=0;b<e;b++){d=J[a[b].offset]||{};for(c in d)d.hasOwnProperty(c)&&(f[c]=!0)}for(b in f)f.hasOwnProperty(b)&&g.push(I[b]);return g}function p(){try{var a=Intl.DateTimeFormat().resolvedOptions().timeZone;if(q(a)){var b=I[s(a)];if(b)return b;A("Moment Timezone found "+a+" from the Intl api, but did not have that data loaded.")}}catch(k){}var c,d,e,f=l(),g=f.length,h=o(f),i=[];for(d=0;d<h.length;d++){for(c=new j(u(h[d]),g),e=0;e<g;e++)c.scoreOffsetAt(f[e]);i.push(c)}return i.sort(m),i.length>0?i[0].zone.name:void 0}function q(a){if(!(a&&a.length>3))return!1;var b,c,d=u(a),e=(new Date).getTimezoneOffset();if(d)for(b=0;b<d.offsets.length&&!c;b++)d.offsets[b].offset===e&&(c=d.offsets[b].offset);return!!c}function r(a){return E&&!a||(E=p()),E}function s(a){return(a||"").toLowerCase().replace(/\//g,"_")}function t(a){var b,c,d,e;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)d=a[b].split("|"),c=d[0],e=s(c),G[e]=a[b],I[e]=c,n(e,d[2].split(" "))}function u(a,b){a=s(a);var c,d=G[a];return d instanceof h?d:"string"==typeof d?(d=new h(d),G[a]=d,d):H[a]&&b!==u&&(c=u(H[a],u))?(d=G[a]=new h,d._set(c),d.name=I[a],d):null}function v(){var a,b=[];for(a in I)I.hasOwnProperty(a)&&(G[a]||G[H[a]])&&I[a]&&b.push(I[a]);return b.sort()}function w(a){var b,c,d,e;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=a[b].split("|"),d=s(c[0]),e=s(c[1]),H[d]=e,I[d]=c[0],H[e]=d,I[e]=c[1]}function x(a){t(a.zones),w(a.links),B.dataVersion=a.version}function y(a){return y.didShowError||(y.didShowError=!0,A("moment.tz.zoneExists('"+a+"') has been deprecated in favor of !moment.tz.zone('"+a+"')")),!!u(a)}function z(a){var b="X"===a._f||"x"===a._f;return!(!a._a||void 0!==a._tzm||b)}function A(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a)}function B(b){var c=Array.prototype.slice.call(arguments,0,-1),d=arguments[arguments.length-1],e=u(d),f=a.utc.apply(null,c);return e&&!a.isMoment(b)&&z(f)&&f.add(e.parse(f),"minutes"),f.tz(d),f}function C(a){return function(){return this._z?this._z.abbr(this):a.call(this)}}function D(a){return function(){return this._z=null,a.apply(this,arguments)}}var E,F="0.5.14",G={},H={},I={},J={},K=a.version.split("."),L=+K[0],M=+K[1];(L<2||2===L&&M<6)&&A("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+a.version+". See momentjs.com"),h.prototype={_set:function(a){this.name=a.name,this.abbrs=a.abbrs,this.untils=a.untils,this.offsets=a.offsets,this.population=a.population},_index:function(a){var b,c=+a,d=this.untils;for(b=0;b<d.length;b++)if(c<d[b])return b},parse:function(a){var b,c,d,e,f=+a,g=this.offsets,h=this.untils,i=h.length-1;for(e=0;e<i;e++)if(b=g[e],c=g[e+1],d=g[e?e-1:e],b<c&&B.moveAmbiguousForward?b=c:b>d&&B.moveInvalidForward&&(b=d),f<h[e]-6e4*b)return g[e];return g[i]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){return A("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(a)]},utcOffset:function(a){return this.offsets[this._index(a)]}},j.prototype.scoreOffsetAt=function(a){this.offsetScore+=Math.abs(this.zone.utcOffset(a.at)-a.offset),this.zone.abbr(a.at).replace(/[^A-Z]/g,"")!==a.abbr&&this.abbrScore++},B.version=F,B.dataVersion="",B._zones=G,B._links=H,B._names=I,B.add=t,B.link=w,B.load=x,B.zone=u,B.zoneExists=y,B.guess=r,B.names=v,B.Zone=h,B.unpack=g,B.unpackBase60=c,B.needsOffset=z,B.moveInvalidForward=!0,B.moveAmbiguousForward=!1;var N=a.fn;a.tz=B,a.defaultZone=null,a.updateOffset=function(b,c){var d,e=a.defaultZone;void 0===b._z&&(e&&z(b)&&!b._isUTC&&(b._d=a.utc(b._a)._d,b.utc().add(e.parse(b),"minutes")),b._z=e),b._z&&(d=b._z.utcOffset(b),Math.abs(d)<16&&(d/=60),void 0!==b.utcOffset?b.utcOffset(-d,c):b.zone(d,c))},N.tz=function(b,c){return b?(this._z=u(b),this._z?a.updateOffset(this,c):A("Moment Timezone has no data for "+b+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},N.zoneName=C(N.zoneName),N.zoneAbbr=C(N.zoneAbbr),N.utc=D(N.utc),a.tz.setDefault=function(b){return(L<2||2===L&&M<9)&&A("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+a.version+"."),a.defaultZone=b?u(b):null,a};var O=a.momentProperties;return"[object Array]"===Object.prototype.toString.call(O)?(O.push("_z"),O.push("_a")):O&&(O._z=null),a});